<div class="bg-blue-400 h-screen p-6">
    <div class="flex flex-col w-[272px] max-h-full bg-[#101204] text-white rounded-lg">
        <div class="p-4 pb-0 h-12 cursor-pointer content-center">
            <div>
                @if (!modifyTitle()) {
                    <button class="font-bold" (click)="changeModifyState()">{{ title() }}</button>
                }
                @else {
                    <input 
                    type="text" 
                    #titleInput
                    (blur)="onTitleBlur()"
                    (keydown)="onTitleKeydown($event)">
                }
            </div>
        </div>
        @if (cardStore.cards().length!==0) {
            <div class="flex flex-col gap-3 overflow-y-scroll p-2">
                @for (card of cardStore.cards(); track card.id) {
                    <app-card [data]="card"/>
                }
            </div>
        }
        <div class="flex flex-row p-3">
            @if (!insertCard()) {
                <button 
                class="flex content-center gap-2 p-2 w-full rounded-md cursor-pointer justify-start duration-200 hover:bg-[rgba(55,71,31,0.50)] active:bg-[#37471f]"
                (click)="changeInsertCard()">
                    <mat-icon>add</mat-icon>
                    <span class=""> Add a card </span>
                </button>
            } @else {
                <form 
                [formGroup]="insertForm" (ngSubmit)="addCard()">
                    <input 
                    type="text" 
                    placeholder="cosa"
                    #titleInput
                    (blur)="onInsertBlur()"
                    (keydown)="onInsertCardKeydown($event)"
                    formControlName="cardTitle">
                    <button type="submit">add card</button>
                </form>
            }
        </div>
    </div>
</div>